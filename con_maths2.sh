#! /bin/bash

path="./"

echo "Using this path: " $path

dirs=`ls -d ${path}s*/`

for dir in $dirs; do

id=`basename ${dir} | cut -c 1-4`

echo ${id}

#fslmaths ${dir}con_0001 -add ${dir}con_0002 -add ${dir}con_0003 ${dir}${id}_Mov_suff 


#fslmaths ${dir}con_0004 -add ${dir}con_0005 -add ${dir}con_0006 ${dir}${id}_Rest_suff 

#fslmaths ${dir}con_0007 -add ${dir}con_0008 -add ${dir}con_0009 ${dir}${id}_Mov_neu

#fslmaths ${dir}con_0010 -add ${dir}con_0011 -add ${dir}con_0012 ${dir}${id}_Rest_neu

#fslmaths ${dir}${id}_Mov_suff -sub ${dir}${id}_Mov_neu ${dir}${id}_Mov_suff_minus_neu

#fslmaths ${dir}${id}_Rest_suff -sub ${dir}${id}_Rest_neu ${dir}${id}_Rest_suff_minus_neu

fslmerge -t Mov_diff_all s001/s001_Mov_suff_minus_neu.nii.gz s002/s002_Mov_suff_minus_neu.nii.gz s003/s003_Mov_suff_minus_neu.nii.gz s004/s004_Mov_suff_minus_neu.nii.gz s005/s005_Mov_suff_minus_neu.nii.gz s006/s006_Mov_suff_minus_neu.nii.gz s009/s009_Mov_suff_minus_neu.nii.gz s010/s010_Mov_suff_minus_neu.nii.gz s011/s011_Mov_suff_minus_neu.nii.gz s012/s012_Mov_suff_minus_neu.nii.gz s013/s013_Mov_suff_minus_neu.nii.gz s015/s015_Mov_suff_minus_neu.nii.gz s016/s016_Mov_suff_minus_neu.nii.gz s017/s017_Mov_suff_minus_neu.nii.gz s018/s018_Mov_suff_minus_neu.nii.gz s019/s019_Mov_suff_minus_neu.nii.gz s020/s020_Mov_suff_minus_neu.nii.gz s021/s021_Mov_suff_minus_neu.nii.gz s022/s022_Mov_suff_minus_neu.nii.gz s024/s024_Mov_suff_minus_neu.nii.gz s025/s025_Mov_suff_minus_neu.nii.gz s026/s026_Mov_suff_minus_neu.nii.gz s027/s027_Mov_suff_minus_neu.nii.gz s028/s028_Mov_suff_minus_neu.nii.gz s029/s029_Mov_suff_minus_neu.nii.gz s030/s030_Mov_suff_minus_neu.nii.gz s031/s031_Mov_suff_minus_neu.nii.gz s033/s033_Mov_suff_minus_neu.nii.gz s035/s035_Mov_suff_minus_neu.nii.gz s038/s038_Mov_suff_minus_neu.nii.gz s039/s039_Mov_suff_minus_neu.nii.gz s040/s040_Mov_suff_minus_neu.nii.gz s042/s042_Mov_suff_minus_neu.nii.gz s043/s043_Mov_suff_minus_neu.nii.gz s044/s044_Mov_suff_minus_neu.nii.gz s045/s045_Mov_suff_minus_neu.nii.gz s046/s046_Mov_suff_minus_neu.nii.gz s048/s048_Mov_suff_minus_neu.nii.gz s049/s049_Mov_suff_minus_neu.nii.gz s050/s050_Mov_suff_minus_neu.nii.gz s053/s053_Mov_suff_minus_neu.nii.gz s054/s054_Mov_suff_minus_neu.nii.gz s055/s055_Mov_suff_minus_neu.nii.gz s056/s056_Mov_suff_minus_neu.nii.gz s057/s057_Mov_suff_minus_neu.nii.gz s058/s058_Mov_suff_minus_neu.nii.gz s059/s059_Mov_suff_minus_neu.nii.gz s061/s061_Mov_suff_minus_neu.nii.gz s062/s062_Mov_suff_minus_neu.nii.gz s064/s064_Mov_suff_minus_neu.nii.gz s065/s065_Mov_suff_minus_neu.nii.gz s066/s066_Mov_suff_minus_neu.nii.gz s067/s067_Mov_suff_minus_neu.nii.gz s069/s069_Mov_suff_minus_neu.nii.gz s072/s072_Mov_suff_minus_neu.nii.gz s073/s073_Mov_suff_minus_neu.nii.gz s074/s074_Mov_suff_minus_neu.nii.gz s075/s075_Mov_suff_minus_neu.nii.gz s076/s076_Mov_suff_minus_neu.nii.gz s077/s077_Mov_suff_minus_neu.nii.gz s078/s078_Mov_suff_minus_neu.nii.gz s079/s079_Mov_suff_minus_neu.nii.gz s080/s080_Mov_suff_minus_neu.nii.gz s081/s081_Mov_suff_minus_neu.nii.gz s082/s082_Mov_suff_minus_neu.nii.gz s083/s083_Mov_suff_minus_neu.nii.gz s084/s084_Mov_suff_minus_neu.nii.gz s085/s085_Mov_suff_minus_neu.nii.gz s086/s086_Mov_suff_minus_neu.nii.gz s090/s090_Mov_suff_minus_neu.nii.gz s091/s091_Mov_suff_minus_neu.nii.gz s093/s093_Mov_suff_minus_neu.nii.gz s094/s094_Mov_suff_minus_neu.nii.gz s095/s095_Mov_suff_minus_neu.nii.gz s096/s096_Mov_suff_minus_neu.nii.gz s097/s097_Mov_suff_minus_neu.nii.gz s101/s101_Mov_suff_minus_neu.nii.gz s102/s102_Mov_suff_minus_neu.nii.gz s103/s103_Mov_suff_minus_neu.nii.gz s104/s104_Mov_suff_minus_neu.nii.gz s108/s108_Mov_suff_minus_neu.nii.gz s109/s109_Mov_suff_minus_neu.nii.gz s110/s110_Mov_suff_minus_neu.nii.gz s111/s111_Mov_suff_minus_neu.nii.gz s112/s112_Mov_suff_minus_neu.nii.gz s113/s113_Mov_suff_minus_neu.nii.gz s114/s114_Mov_suff_minus_neu.nii.gz s115/s115_Mov_suff_minus_neu.nii.gz s116/s116_Mov_suff_minus_neu.nii.gz s118/s118_Mov_suff_minus_neu.nii.gz s120/s120_Mov_suff_minus_neu.nii.gz s121/s121_Mov_suff_minus_neu.nii.gz s122/s122_Mov_suff_minus_neu.nii.gz s123/s123_Mov_suff_minus_neu.nii.gz s124/s124_Mov_suff_minus_neu.nii.gz s125/s125_Mov_suff_minus_neu.nii.gz s126/s126_Mov_suff_minus_neu.nii.gz s128/s128_Mov_suff_minus_neu.nii.gz s129/s129_Mov_suff_minus_neu.nii.gz s130/s130_Mov_suff_minus_neu.nii.gz s131/s131_Mov_suff_minus_neu.nii.gz s132/s132_Mov_suff_minus_neu.nii.gz s134/s134_Mov_suff_minus_neu.nii.gz s136/s136_Mov_suff_minus_neu.nii.gz s138/s138_Mov_suff_minus_neu.nii.gz s139/s139_Mov_suff_minus_neu.nii.gz s141/s141_Mov_suff_minus_neu.nii.gz s142/s142_Mov_suff_minus_neu.nii.gz s143/s143_Mov_suff_minus_neu.nii.gz s144/s144_Mov_suff_minus_neu.nii.gz s145/s145_Mov_suff_minus_neu.nii.gz s149/s149_Mov_suff_minus_neu.nii.gz s150/s150_Mov_suff_minus_neu.nii.gz s151/s151_Mov_suff_minus_neu.nii.gz s152/s152_Mov_suff_minus_neu.nii.gz s153/s153_Mov_suff_minus_neu.nii.gz s155/s155_Mov_suff_minus_neu.nii.gz s156/s156_Mov_suff_minus_neu.nii.gz


fslmerge -t Rest_diff_all s001/s001_Rest_suff_minus_neu.nii.gz s002/s002_Rest_suff_minus_neu.nii.gz s003/s003_Rest_suff_minus_neu.nii.gz s004/s004_Rest_suff_minus_neu.nii.gz s005/s005_Rest_suff_minus_neu.nii.gz s006/s006_Rest_suff_minus_neu.nii.gz s009/s009_Rest_suff_minus_neu.nii.gz s010/s010_Rest_suff_minus_neu.nii.gz s011/s011_Rest_suff_minus_neu.nii.gz s012/s012_Rest_suff_minus_neu.nii.gz s013/s013_Rest_suff_minus_neu.nii.gz s015/s015_Rest_suff_minus_neu.nii.gz s016/s016_Rest_suff_minus_neu.nii.gz s017/s017_Rest_suff_minus_neu.nii.gz s018/s018_Rest_suff_minus_neu.nii.gz s019/s019_Rest_suff_minus_neu.nii.gz s020/s020_Rest_suff_minus_neu.nii.gz s021/s021_Rest_suff_minus_neu.nii.gz s022/s022_Rest_suff_minus_neu.nii.gz s024/s024_Rest_suff_minus_neu.nii.gz s025/s025_Rest_suff_minus_neu.nii.gz s026/s026_Rest_suff_minus_neu.nii.gz s027/s027_Rest_suff_minus_neu.nii.gz s028/s028_Rest_suff_minus_neu.nii.gz s029/s029_Rest_suff_minus_neu.nii.gz s030/s030_Rest_suff_minus_neu.nii.gz s031/s031_Rest_suff_minus_neu.nii.gz s033/s033_Rest_suff_minus_neu.nii.gz s035/s035_Rest_suff_minus_neu.nii.gz s038/s038_Rest_suff_minus_neu.nii.gz s039/s039_Rest_suff_minus_neu.nii.gz s040/s040_Rest_suff_minus_neu.nii.gz s042/s042_Rest_suff_minus_neu.nii.gz s043/s043_Rest_suff_minus_neu.nii.gz s044/s044_Rest_suff_minus_neu.nii.gz s045/s045_Rest_suff_minus_neu.nii.gz s046/s046_Rest_suff_minus_neu.nii.gz s048/s048_Rest_suff_minus_neu.nii.gz s049/s049_Rest_suff_minus_neu.nii.gz s050/s050_Rest_suff_minus_neu.nii.gz s053/s053_Rest_suff_minus_neu.nii.gz s054/s054_Rest_suff_minus_neu.nii.gz s055/s055_Rest_suff_minus_neu.nii.gz s056/s056_Rest_suff_minus_neu.nii.gz s057/s057_Rest_suff_minus_neu.nii.gz s058/s058_Rest_suff_minus_neu.nii.gz s059/s059_Rest_suff_minus_neu.nii.gz s061/s061_Rest_suff_minus_neu.nii.gz s062/s062_Rest_suff_minus_neu.nii.gz s064/s064_Rest_suff_minus_neu.nii.gz s065/s065_Rest_suff_minus_neu.nii.gz s066/s066_Rest_suff_minus_neu.nii.gz s067/s067_Rest_suff_minus_neu.nii.gz s069/s069_Rest_suff_minus_neu.nii.gz s072/s072_Rest_suff_minus_neu.nii.gz s073/s073_Rest_suff_minus_neu.nii.gz s074/s074_Rest_suff_minus_neu.nii.gz s075/s075_Rest_suff_minus_neu.nii.gz s076/s076_Rest_suff_minus_neu.nii.gz s077/s077_Rest_suff_minus_neu.nii.gz s078/s078_Rest_suff_minus_neu.nii.gz s079/s079_Rest_suff_minus_neu.nii.gz s080/s080_Rest_suff_minus_neu.nii.gz s081/s081_Rest_suff_minus_neu.nii.gz s082/s082_Rest_suff_minus_neu.nii.gz s083/s083_Rest_suff_minus_neu.nii.gz s084/s084_Rest_suff_minus_neu.nii.gz s085/s085_Rest_suff_minus_neu.nii.gz s086/s086_Rest_suff_minus_neu.nii.gz s090/s090_Rest_suff_minus_neu.nii.gz s091/s091_Rest_suff_minus_neu.nii.gz s093/s093_Rest_suff_minus_neu.nii.gz s094/s094_Rest_suff_minus_neu.nii.gz s095/s095_Rest_suff_minus_neu.nii.gz s096/s096_Rest_suff_minus_neu.nii.gz s097/s097_Rest_suff_minus_neu.nii.gz s101/s101_Rest_suff_minus_neu.nii.gz s102/s102_Rest_suff_minus_neu.nii.gz s103/s103_Rest_suff_minus_neu.nii.gz s104/s104_Rest_suff_minus_neu.nii.gz s108/s108_Rest_suff_minus_neu.nii.gz s109/s109_Rest_suff_minus_neu.nii.gz s110/s110_Rest_suff_minus_neu.nii.gz s111/s111_Rest_suff_minus_neu.nii.gz s112/s112_Rest_suff_minus_neu.nii.gz s113/s113_Rest_suff_minus_neu.nii.gz s114/s114_Rest_suff_minus_neu.nii.gz s115/s115_Rest_suff_minus_neu.nii.gz s116/s116_Rest_suff_minus_neu.nii.gz s118/s118_Rest_suff_minus_neu.nii.gz s120/s120_Rest_suff_minus_neu.nii.gz s121/s121_Rest_suff_minus_neu.nii.gz s122/s122_Rest_suff_minus_neu.nii.gz s123/s123_Rest_suff_minus_neu.nii.gz s124/s124_Rest_suff_minus_neu.nii.gz s125/s125_Rest_suff_minus_neu.nii.gz s126/s126_Rest_suff_minus_neu.nii.gz s128/s128_Rest_suff_minus_neu.nii.gz s129/s129_Rest_suff_minus_neu.nii.gz s130/s130_Rest_suff_minus_neu.nii.gz s131/s131_Rest_suff_minus_neu.nii.gz s132/s132_Rest_suff_minus_neu.nii.gz s134/s134_Rest_suff_minus_neu.nii.gz s136/s136_Rest_suff_minus_neu.nii.gz s138/s138_Rest_suff_minus_neu.nii.gz s139/s139_Rest_suff_minus_neu.nii.gz s141/s141_Rest_suff_minus_neu.nii.gz s142/s142_Rest_suff_minus_neu.nii.gz s143/s143_Rest_suff_minus_neu.nii.gz s144/s144_Rest_suff_minus_neu.nii.gz s145/s145_Rest_suff_minus_neu.nii.gz s149/s149_Rest_suff_minus_neu.nii.gz s150/s150_Rest_suff_minus_neu.nii.gz s151/s151_Rest_suff_minus_neu.nii.gz s152/s152_Rest_suff_minus_neu.nii.gz s153/s153_Rest_suff_minus_neu.nii.gz s155/s155_Rest_suff_minus_neu.nii.gz s156/s156_Rest_suff_minus_neu.nii.gz
	
done
